{% extends 'coderedcms/pages/web_page_notitle.html' %}
{% load static wagtailimages_tags %}
{% block extra_head %}
  <link rel="stylesheet" type="text/css" href="{% static 'website/css/site.css' %}">
{% endblock %}
{% block content_body %}

  <div class="container">
    <div class="row">
      <div class="col mt-4">
        <h2>{{ object.name }}</h2>
      </div>
    </div>
    <div class="row mt-5">
      <div class="col-md-6 text-center">
        {% image images.0 max-500x500 id="myImg" %}
        <div class="container mt-3">
          <div class="row">
            <div class="col my-2">
              <img src="https://via.placeholder.com/100">
            </div>
            <div class="col my-2">
              <img src="https://via.placeholder.com/100">
            </div>
            <div class="col my-2">
              <img src="https://via.placeholder.com/100">
            </div>
            <div class="col my-2">
              <img src="https://via.placeholder.com/100">
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-1"></div>
      <div class="col-md-5">
        <a href="{% url 'public_category' pk=object.category.pk %}" class="text-muted">Back
          to {{ object.category.name }}</a>
        <p class="my-5">{{ object.description }}</p>
        <p class="text-muted my-2">Ref: {{ object.ref }}</p>
        <h5>Price: Â£ {{ price }}</h5>
        <div class="mt-4">
          {% if request.user %}
            <a class="btn btn-outline-secondary" role="button"
               href="{% url 'object_update' pk=object.id %}">Edit</a>{% endif %}
        </div>
      </div>
    </div>
  </div>

  <!-- The Modal -->
  <div id="myModal" class="modal">

    <!-- The Close Button -->
    <span class="close">&times;</span>

    <!-- Modal Content (The Image) -->
    <img class="modal-content" id="img01">

    <!-- Modal Caption (Image Text) -->
    <div id="caption">{{ object.name }}</div>
  </div>
{% endblock %}

{% block custom_scripts %}
  <script>
      // Get the modal
      var modal = document.getElementById("myModal");

      // Get the image and insert it inside the modal - use its "alt" text as a caption
      var img = document.getElementById("myImg");
      var modalImg = document.getElementById("img01");
      var captionText = "Caption";
      img.onclick = function () {
          modal.style.display = "block";
          modalImg.src = this.src;
          captionText.innerHTML = "hello";
      }

      // Get the <span> element that closes the modal
      var span = document.getElementsByClassName("close")[0];

      // When the user clicks on <span> (x), close the modal
      span.onclick = function () {
          modal.style.display = "none";
      }
  </script>

{% endblock %}